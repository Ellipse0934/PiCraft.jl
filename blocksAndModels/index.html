<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Blocks and Models · PiCraft</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>PiCraft</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Quick Start</span><ul><li><a class="toctext" href="../installation/">Installation</a></li><li><a class="toctext" href="../connecting/">Connecting</a></li><li><a class="toctext" href="../coordinateSystem/">Coordinate System</a></li><li class="current"><a class="toctext" href>Blocks and Models</a><ul class="internal"><li><a class="toctext" href="#Blocks-1">Blocks</a></li><li><a class="toctext" href="#Models-1">Models</a></li></ul></li><li><a class="toctext" href="../eventsEntitiesCamera/">Events, Entities and Camera</a></li></ul></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../example/safeFeet/">Safe Feet</a></li><li><a class="toctext" href="../example/turnToGold/">Turn to Gold</a></li><li><a class="toctext" href="../example/turtle/">Turtle</a></li><li><a class="toctext" href="../example/skyscraperBasic/">Sky Scraper</a></li><li><a class="toctext" href="../example/GameOfLife/">Game Of Life</a></li><li><a class="toctext" href="../example/platform9_75/">Platform 9¾</a></li></ul></li><li><a class="toctext" href="../blocks/">Block Reference</a></li><li><a class="toctext" href="../api/">API Reference</a></li></ul></nav><article id="docs"><header><nav><ul><li>Quick Start</li><li><a href>Blocks and Models</a></li></ul><a class="edit-page" href="https://github.com/JuliaBerry/PiCraft.jl/blob/master/docs/src/blocksAndModels.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Blocks and Models</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Blocks-and-Models-1" href="#Blocks-and-Models-1">Blocks and Models</a></h1><h2><a class="nav-anchor" id="Blocks-1" href="#Blocks-1">Blocks</a></h2><p>This package provides the ability to modify blocks at specified coordinates.<code>Block</code> is an immutable datatype defined in <code>src/blocks.jl</code>.</p><pre><code class="language-julia">struct Block
    id::Int
    data::Int
end</code></pre><p>The <code>id</code> defines the type of block (like cobblestone, wool, wood,.etc) and the <code>data</code> attribute defines additional characteristics of the block, on default every block has its <code>data</code> set to <code>0</code>. For example, Wool&#39;s block id is 35, <code>Block(35,0)</code> refers to a block of white wool. Different wool colors can be accessed by changing the <code>data</code> attribute. Red Wool is <code>Block(35, 14)</code>, Pink Wool is <code>Block(35,6)</code> and so on. A complete reference can be found in the documentation.</p><table><tr><th>Id</th><th>Name</th><th>Subtype</th><th>Image</th><th>Data</th></tr><tr><td>35</td><td>Wool</td><td>White</td><td><img src="../assets/img/BlockImages/White_Wool.png" alt="mc-block"/></td><td>0</td></tr><tr><td></td><td></td><td>Orange</td><td><img src="../assets/img/BlockImages/Orange_Wool.png" alt="mc-block"/></td><td>1</td></tr><tr><td></td><td></td><td>Magenta</td><td><img src="../assets/img/BlockImages/Magenta_Wool.png" alt="mc-block"/></td><td>2</td></tr><tr><td></td><td></td><td>Light Blue</td><td><img src="../assets/img/BlockImages/Light_Blue_Wool.png" alt="mc-block"/></td><td>3</td></tr><tr><td></td><td></td><td>Yellow</td><td><img src="../assets/img/BlockImages/Yellow_Wool.png" alt="mc-block"/></td><td>4</td></tr><tr><td></td><td></td><td>Lime</td><td><img src="../assets/img/BlockImages/Lime_Wool.png" alt="mc-block"/></td><td>5</td></tr><tr><td></td><td></td><td>Pink</td><td><img src="../assets/img/BlockImages/Pink_Wool.png" alt="mc-block"/></td><td>6</td></tr></table><ol><li>Place Block: <code>setBlock(Tuple{Int,Int,Int}, block::Block)</code><ul><li>Place the specified <code>Block</code> at the specified coordinates.</li></ul></li><li>Place Blocks: <code>setBlocks(p1::Tuple{Real, Real, Real}, p2::Tuple{Real, Real, Real}, block::Block)</code><ul><li>Set an entire region to the specified block type defined by the corners <code>p1</code> and <code>p2</code>.</li></ul></li><li>Get Block information: <code>getBlock(Tuple{Int,Int,Int})</code><ul><li>Returns the <code>Block</code> present at the specified coordinates.</li></ul></li></ol><p>While <code>getBlock</code> and <code>setBlock</code> functions will accept any <code>Real</code> as arguments these will be rounded to <code>Int</code> as a block cannot be placed on non-integer coordinates.</p><h2><a class="nav-anchor" id="Models-1" href="#Models-1">Models</a></h2><p>The minecraft community has made a large number of fantastic creations over the years. Models allow us to share, collaborate and improve their work. Generally, Models are shared in the <code>.schematic</code> file format which is a type of NBT file(Named Binary Type). What we mean by a Model is a 3-Dimensional array of Blocks(<code>Array{Block, 3}</code>). <a href="https://www.minecraft-schematics.com/">minecraft-schematics</a> and <a href="https://www.planetminecraft.com/resources/projects/?share=schematic">planetminecraft</a>  are popular websites which host community provided schematic files. Schematic  files are the standard way to import and export models using software like  <a href="http://www.mcedit.net/">MCEdit</a> and <a href="https://minecraft.curseforge.com/projects/worldedit">WorldEdit</a>.</p><h3><a class="nav-anchor" id="Importing-.schmatic-files-1" href="#Importing-.schmatic-files-1">Importing <code>.schmatic</code> files</a></h3><p>Let&#39;s try to import a sample file. It&#39;s named <code>sample.schematic</code> and located in  the example folder.</p><p>This is the model we will be importing:  <img src="../assets/img/Quickstart/sample-model.png" alt="sample-model"/></p><p>It&#39;s composed of gold and diamond blocks as the colors indicate and the coordinate  axes have been marked.</p><p>The schematic file can be found in the Examples folder or <a href="https://raw.githubusercontent.com/JuliaBerry/PiCraft.jl/master/example/sample.schematic">here</a></p><p>Copy this file to a convenient location like your desktop or documents folder. Now to go to this location we can use the Command Prompt/Shell commands.</p><p>Enter the <code>;</code> character to go into shell mode in a Julia REPL interface. Or you could also use the <code>run()</code> command. For instance to find your current location use <code>cd</code> on Windows and <code>pwd</code> on linux/MacOS.</p><pre><code class="language-julia">shell&gt; ls
appveyor.yml  example	  Manifest.toml  README.md  src
docs	      LICENSE.md  Project.toml	 REQUIRE    test

shell&gt; cd ~/Documents
/home/user/Documents

julia&gt; run(`ls`)
sample.nbt
Process(`ls`, ProcessExited(0))
</code></pre><p>Now to import our model use the <code>importSchematic(filename::AbstractString)</code> function.</p><pre><code class="language-julia-repl">m = importSchematic(&quot;./sample.schematic&quot;)
3×2×4 Array{Block,3}:
[:, :, 1] =
 Block(41, 0)  Block(0, 0)
 Block(41, 0)  Block(0, 0)
 Block(41, 0)  Block(0, 0)

[:, :, 2] =
 Block(41, 0)  Block(0, 0)
 Block(41, 0)  Block(0, 0)
 Block(41, 0)  Block(0, 0)

[:, :, 3] =
 Block(41, 0)  Block(0, 0)
 Block(41, 0)  Block(0, 0)
 Block(41, 0)  Block(57, 0)

[:, :, 4] =
 Block(41, 0)  Block(0, 0)
 Block(41, 0)  Block(0, 0)
 Block(41, 0)  Block(57, 0)
</code></pre><p>It would be helpful to try to relate the information above with the illustration of the model. Notice the indexing is [X, Y, Z]</p><h3><a class="nav-anchor" id="Model-Functions-1" href="#Model-Functions-1">Model Functions</a></h3><p>Here are the functions you can use with models</p><ol><li><code>buildModel(m::Array{Block,3}, pos::Tuple{Real, Real, Real})</code></li><li><code>copyModel(p1::Tuple{Real, Real, Real}, p2::Tuple{Real, Real, Real})</code></li><li><code>cutModel(p1::Tuple{Real, Real, Real}, p2::Tuple{Real, Real, Real}, block::Block = Block(0, 0))</code></li><li><code>flip(A::Array{Block, 3}, dim::Symbol)</code></li><li><code>rotate(A::Array{Block, 3}; dir::Symbol = :l, dim::Symbol = :x)</code></li></ol><p>To build the model:</p><pre><code class="language-julia-repl">julia&gt; pos = getTile()

julia&gt; buildModel(m, pos)

julia&gt; #= This should have build a model, Look in the southeast direction.
          Now to copy the model, we must know it corner&#39;s coordinates.      =#
julia&gt; size(m)
(3, 2, 4)

julia&gt; m2 = copyModel(pos .+ (1, 0, 1), pos .+ size(m) .- (0, 1, 0));

julia&gt; m2 == m
true

julia&gt; cutModel(pos .+ (1, 0, 1), pos .+ size(m) .- (0, 1, 0))

julia&gt; # The build model should now me replace by air.</code></pre><p>Flipping and rotating are operations essential to constructing symmetric structures.</p><p><code>flip()</code> can perform a flip in the x-y(:z), y-z(:x) or x-z(:y) plane. To flip our model upside down we have to flip it in the x-z plane.</p><pre><code class="language-julia-repl">julia&gt; m2 = flip(m, :y)
3×2×4 Array{Block,3}:
[:, :, 1] =
 Block(0, 0)  Block(41, 0)
 Block(0, 0)  Block(41, 0)
 Block(0, 0)  Block(41, 0)

[:, :, 2] =
 Block(0, 0)  Block(41, 0)
 Block(0, 0)  Block(41, 0)
 Block(0, 0)  Block(41, 0)

[:, :, 3] =
 Block(0, 0)   Block(41, 0)
 Block(0, 0)   Block(41, 0)
 Block(57, 0)  Block(41, 0)

[:, :, 4] =
 Block(0, 0)   Block(41, 0)
 Block(0, 0)   Block(41, 0)
 Block(57, 0)  Block(41, 0)

 julia&gt; buildModel(m2, pos)</code></pre><p>It would be helpful if you try to understand how the Array changes upon a flip. Similarly try to flip the model in other dimensions and build it to see the changes. (<code>flip(m, :x)</code> &amp; <code>flip(m, :z)</code>)</p><p>Rotating a model requires two parameters.     1. The plane in which we will rotate. (dim) (:x, :y, :z)     2. Direction of rotating.(dir) (:l, :r)</p><p>Like flipping <code>:x</code> as the dimension indicates a rotation in the y-z plane. And similarly for other dimensions as well. <code>:l</code> indicates a rotation in the counter-clockwise direction and <code>:r</code> indicates a rotation in the clockwise direction when you are looking in the positive direction of the dimension.</p><p>Unlike flipping, a rotation might change the dimension of the model.</p><p>Here, a script which shows a rotation animation.</p><pre><code class="language-julia-repl">julia&gt; for i in 1:4
            cutModel(pos .+ (1, 0, 1), pos .+ size(m) .- (0, 1, 0), Block(0,0))
            m = rotate(m, :l, :y)
            buildModel(m, pos)
            sleep(1)
        end</code></pre><p>Here we build a Model, wait for a second, remove it, rotate it and repeat for 4 times.</p><footer><hr/><a class="previous" href="../coordinateSystem/"><span class="direction">Previous</span><span class="title">Coordinate System</span></a><a class="next" href="../eventsEntitiesCamera/"><span class="direction">Next</span><span class="title">Events, Entities and Camera</span></a></footer></article></body></html>
